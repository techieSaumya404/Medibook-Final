<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediBook - Smart Doctor Appointment System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2a7de1;
            --primary-light: #e8f2ff;
            --secondary: #00c6a9;
            --dark: #333;
            --light: #f8f9fa;
            --gray: #6c757d;
            --danger: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --border-radius: 12px;
        }

        [data-theme="dark"] {
            --primary: #4a90e2;
            --primary-light: #1a2c42;
            --secondary: #00d4b3;
            --dark: #f0f0f0;
            --light: #1e2a3a;
            --gray: #a0aec0;
            --danger: #fc5c65;
            --success: #2ecc71;
            --warning: #fed330;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Chatbot Styles */
.chatbot-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.chatbot-toggle {
    width: 60px;
    height: 60px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: var(--transition);
    font-size: 1.5rem;
}

.chatbot-toggle:hover {
    background: #1a6fd0;
    transform: scale(1.1);
}

.chatbot-window {
    position: absolute;
    bottom: 80px;
    right: 0;
    width: 350px;
    height: 500px;
    background: var(--light);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    display: none;
    flex-direction: column;
    overflow: hidden;
}

.chatbot-header {
    background: var(--primary);
    color: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chatbot-header h4 {
    margin: 0;
    font-size: 1.1rem;
}

.chatbot-close {
    background: none;
    border: none;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
}

.chatbot-messages {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    background: #f9f9f9;
}

.message {
    margin-bottom: 10px;
    padding: 10px;
    border-radius: 10px;
    max-width: 80%;
}

.message.bot {
    background: var(--primary-light);
    color: var(--dark);
    align-self: flex-start;
}

.message.user {
    background: var(--primary);
    color: white;
    align-self: flex-end;
    margin-left: auto;
}

.quick-replies {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    padding: 10px;
    background: #f0f0f0;
}

.quick-reply-btn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: var(--transition);
}

.quick-reply-btn:hover {
    background: #1a6fd0;
}

.chatbot-input-area {
    border-top: 1px solid #ddd;
}

.chatbot-input {
    display: flex;
    padding: 10px;
}

.chatbot-input input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 20px;
    outline: none;
}

.chatbot-input button {
    background: var(--primary);
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 50%;
    cursor: pointer;
    margin-left: 5px;
    transition: var(--transition);
}

.chatbot-input button:hover {
    background: #1a6fd0;
}

/* Responsive */
@media (max-width: 768px) {
    .chatbot-window {
        width: 90vw;
        height: 70vh;
        bottom: 80px;
        right: 5vw;
    }
}
        /* Header Styles */
        header {
            background-color: var(--light);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            cursor: pointer;
        }

        .logo i {
            font-size: 1.8rem;
        }

        .nav-links {
            display: flex;
            gap: 25px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .nav-links a:hover {
            color: var(--primary);
            background: var(--primary-light);
        }

        .nav-links a.active {
            color: var(--primary);
            font-weight: 600;
            background: var(--primary-light);
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--dark);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 8px;
            border-radius: 50%;
        }

        .theme-toggle:hover {
            color: var(--primary);
            background: var(--primary-light);
        }

        .accessibility-btn {
            background: none;
            border: none;
            color: var(--dark);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 8px;
            border-radius: 50%;
        }

        .accessibility-btn:hover {
            color: var(--primary);
            background: var(--primary-light);
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #1a6fd0;
            transform: translateY(-2px);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #e67e22;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #27ae60;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Main Content Area */
        .main-content {
            min-height: calc(100vh - 200px);
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Hero Section */
        .hero {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--light) 100%);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .search-box {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            box-shadow: var(--shadow);
            border-radius: 50px;
            overflow: hidden;
        }

        .search-box input {
            flex: 1;
            padding: 15px 25px;
            border: none;
            font-size: 1rem;
            outline: none;
            background: white;
            color: var(--dark);
        }

        .search-box button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0 25px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .search-box button:hover {
            background: #1a6fd0;
        }

        .emergency-btn {
            margin-top: 20px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Animated Images in Hero */
        .hero-animations {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .floating-icon {
            position: absolute;
            font-size: 3rem;
            color: rgba(42, 125, 225, 0.1);
            animation: float 6s ease-in-out infinite;
        }

        .floating-icon:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .floating-icon:nth-child(2) {
            top: 60%;
            right: 10%;
            animation-delay: 2s;
        }

        .floating-icon:nth-child(3) {
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        /* Filter Section */
        .filters {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .filter-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .filter-select {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            color: var(--dark);
            font-size: 1rem;
            transition: var(--transition);
        }

        .filter-select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(42, 125, 225, 0.1);
        }

        /* Specialties Section */
        .section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--gray);
            max-width: 600px;
            margin: 0 auto;
        }

        .specialties {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .specialty-card {
            background: var(--light);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .specialty-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .specialty-icon {
            width: 70px;
            height: 70px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 1.8rem;
            color: var(--primary);
            transition: var(--transition);
        }

        .specialty-card:hover .specialty-icon {
            animation: bounce 0.5s;
            background: var(--primary);
            color: white;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .specialty-card h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        /* Live Doctors Section */
        .live-doctors {
            margin: 40px 0;
        }

        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: var(--danger);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.5; }
        }

        /* Video Call Modal */
        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .video-content {
            background: var(--light);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            padding: 20px;
            box-shadow: var(--shadow);
            position: relative;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 400px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .video-feed {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: var(--primary);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            transform: scale(1.1);
        }

        .control-btn.end-call {
            background: var(--danger);
        }

        /* Symptom Checker */
        .symptom-checker {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }

        .symptom-checker h3 {
            margin-bottom: 20px;
            color: var(--dark);
        }

        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .symptom-option {
            padding: 12px 15px;
            background: var(--primary-light);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .symptom-option:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .symptom-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--secondary);
            transform: scale(1.05);
        }

        .suggestion-result {
            background: var(--success);
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.5s;
        }

        /* Doctors Section */
        .doctors {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .doctor-card {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
        }

        .doctor-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .doctor-card.expanded {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: var(--primary);
        }

        .doctor-img {
            height: 200px;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 5rem;
            position: relative;
            overflow: hidden;
        }

        .doctor-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .doctor-info {
            padding: 20px;
        }

        .doctor-info h3 {
            font-size: 1.4rem;
            margin-bottom: 5px;
        }

        .doctor-specialty {
            color: var(--primary);
            font-weight: 500;
            margin-bottom: 10px;
        }

        .doctor-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
            color: #ffc107;
        }

        .doctor-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .doctor-card.expanded .doctor-details {
            max-height: 500px;
        }

        .doctor-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
        }

        .btn-sm {
            padding: 8px 15px;
            font-size: 0.9rem;
        }

        .compare-btn {
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .compare-btn:hover {
            background: #00b398;
            transform: translateY(-2px);
        }

        /* Doctor Profile Page */
        .doctor-profile {
            padding: 40px 0;
        }

        .profile-header {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            background: var(--light);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .profile-image {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            overflow: hidden;
            border: 5px solid var(--primary-light);
        }

        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            flex: 1;
        }

        .profile-info h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .profile-info .specialty {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .profile-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .profile-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .detail-card {
            background: var(--light);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .detail-card h3 {
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 2px solid var(--primary-light);
            padding-bottom: 10px;
        }
        /* Patient Profile Styles */
.profile-section {
    background: var(--light);
    border-radius: var(--border-radius);
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: var(--shadow);
}

.profile-section h3 {
    margin-bottom: 20px;
    color: var(--primary);
    border-bottom: 2px solid var(--primary-light);
    padding-bottom: 10px;
}

/* Goals */
.goals-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.goal-item {
    background: var(--primary-light);
    padding: 20px;
    border-radius: var(--border-radius);
    border-left: 5px solid var(--primary);
}

.goal-progress {
    margin: 15px 0;
}

.progress-bar {
    background: #e0e0e0;
    border-radius: 10px;
    height: 10px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--primary);
    transition: width 0.3s ease;
}

/* Risk Assessment */
#riskResults {
    margin-top: 20px;
    padding: 20px;
    background: var(--success);
    color: white;
    border-radius: var(--border-radius);
}

/* Family Profiles */
.family-profiles {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.family-member {
    background: var(--primary-light);
    padding: 20px;
    border-radius: var(--border-radius);
    text-align: center;
}

/* Tips Carousel */
.tips-carousel {
    position: relative;
    height: 150px;
    overflow: hidden;
    margin-bottom: 20px;
}

.tip-slide {
    display: none;
    padding: 20px;
    background: var(--primary-light);
    border-radius: var(--border-radius);
}

.tip-slide.active {
    display: block;
}

.carousel-controls {
    text-align: center;
}

.carousel-controls button {
    background: var(--primary);
    color: white;
    border: none;
    padding: 10px 15px;
    margin: 0 5px;
    border-radius: 50%;
    cursor: pointer;
}

/* Medication Tracker */
.medication-tracker {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.medication-item {
    background: var(--primary-light);
    padding: 20px;
    border-radius: var(--border-radius);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.medication-actions {
    display: flex;
    gap: 10px;
}

/* Health Timeline */
.health-timeline {
    position: relative;
    padding-left: 30px;
}

.timeline-item {
    position: relative;
    padding: 20px 0;
    border-left: 2px solid var(--primary);
}

.timeline-item::before {
    content: '';
    position: absolute;
    left: -7px;
    top: 20px;
    width: 12px;
    height: 12px;
    background: var(--primary);
    border-radius: 50%;
}

.timeline-date {
    font-weight: bold;
    color: var(--primary);
}

/* Records */
.records-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.record-item {
    background: var(--primary-light);
    padding: 20px;
    border-radius: var(--border-radius);
}

/* Modals for Adding Items */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.modal-content {
    background: var(--light);
    border-radius: var(--border-radius);
    width: 90%;
    max-width: 500px;
    padding: 30px;
    box-shadow: var(--shadow);
    position: relative;
}

.close-modal {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gray);
}

        /* Doctor Comparison */
        .comparison-section {
            display: none;
            margin: 40px 0;
        }

        .comparison-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .comparison-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .comparison-card.highlight {
            border-color: var(--primary);
            transform: scale(1.02);
        }

        .comparison-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .comparison-features {
            list-style: none;
        }

        .comparison-features li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
        }

        .feature-name {
            font-weight: 500;
        }

        .feature-value {
            color: var(--primary);
        }

        /* Multi-Step Booking */
        .booking-wizard {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin: 40px 0;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-light);
            z-index: 1;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            width: var(--progress-width, 0%);
            height: 4px;
            background: var(--primary);
            z-index: 2;
            transition: width 0.5s ease;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 3;
        }

        .step-number {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: var(--primary-light);
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 5px;
            transition: var(--transition);
        }

        .progress-step.active .step-number {
            background: var(--primary);
            color: white;
        }

        .step-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .progress-step.active .step-label {
            color: var(--primary);
            font-weight: 600;
        }

        .wizard-step {
            display: none;
        }

        .wizard-step.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .wizard-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        /* Patient Mode Selector */
        .patient-mode {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .mode-option {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: var(--primary-light);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .mode-option:hover {
            transform: translateY(-2px);
        }

        .mode-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--secondary);
        }

        /* Calendar UI */
        .calendar-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            text-align: center;
            padding: 10px 5px;
            font-weight: bold;
            color: var(--gray);
        }

        .calendar-date {
            text-align: center;
            padding: 10px 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .calendar-date.available {
            background: var(--primary-light);
            color: var(--dark);
        }

        .calendar-date.available:hover {
            background: var(--primary);
            color: white;
        }

        .calendar-date.selected {
            background: var(--primary);
            color: white;
        }

        .calendar-date.unavailable {
            background: #f5f5f5;
            color: #ccc;
            cursor: not-allowed;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .time-slot {
            padding: 10px;
            text-align: center;
            background: var(--primary-light);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .time-slot:hover {
            background: var(--primary);
            color: white;
        }

        .time-slot.selected {
            background: var(--primary);
            color: white;
            transform: scale(1.05);
        }

        /* Reviews Section */
        .reviews-container {
            margin-top: 40px;
        }

        .review-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .review-card:hover {
            transform: translateY(-2px);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .reviewer-name {
            font-weight: 600;
        }

        .review-rating {
            color: #ffc107;
        }

        .review-date {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .review-form {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-top: 30px;
        }

        .rating-input {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }

        .rating-star {
            font-size: 1.5rem;
            color: #ddd;
            cursor: pointer;
            transition: var(--transition);
        }

        .rating-star:hover {
            color: #ffc107;
            transform: scale(1.2);
        }

        .rating-star.active {
            color: #ffc107;
        }

        /* Dashboard */
        .dashboard {
            padding: 40px 0;
        }

        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .dashboard-card i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .dashboard-card h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .dashboard-card p {
            color: var(--gray);
        }

        .appointments-list {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .appointment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            transition: var(--transition);
        }

        .appointment-item:hover {
            background: var(--primary-light);
            border-radius: 8px;
            padding: 15px;
        }

        .appointment-item:last-child {
            border-bottom: none;
        }

        .appointment-info h4 {
            margin-bottom: 5px;
        }

        .appointment-actions {
            display: flex;
            gap: 10px;
        }
        

        /* Emergency Modal */
        .emergency-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .emergency-content {
            background: var(--light);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            padding: 30px;
            box-shadow: var(--shadow);
            position: relative;
            text-align: center;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .emergency-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        /* Accessibility Panel */
        .accessibility-panel {
            display: none;
            position: fixed;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            background: var(--light);
            padding: 15px;
            border-radius: 10px 0 0 10px;
            box-shadow: var(--shadow);
            z-index: 999;
        }

        .accessibility-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .accessibility-option {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 5px;
            transition: var(--transition);
        }

        .accessibility-option:hover {
            background: var(--primary-light);
        }

        /* Appointment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--light);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            padding: 30px;
            box-shadow: var(--shadow);
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--danger);
            transform: rotate(90deg);
        }

        .modal-title {
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background: white;
            color: var(--dark);
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(42, 125, 225, 0.1);
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* Confirmation Section */
        .confirmation {
            text-align: center;
            padding: 50px 0;
            background: var(--light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            max-width: 600px;
            margin: 0 auto;
        }

        .confirmation-icon {
            width: 80px;
            height: 80px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 2.5rem;
            animation: bounce 0.5s;
        }

        .confirmation h2 {
            margin-bottom: 15px;
            color: var(--success);
        }

        .confirmation p {
            margin-bottom: 25px;
            color: var(--gray);
        }

        .qr-code {
            width: 150px;
            height: 150px;
            background: #f5f5f5;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            font-size: 0.8rem;
            color: var(--gray);
            flex-direction: column;
            gap: 10px;
            border: 2px dashed #ddd;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--primary);
            transform: translateY(-2px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 0.9rem;
        }
        .dashboard-card {
    /* ... existing styles ... */
    cursor: pointer; /* Make cards look clickable */
    transition: transform 0.2s; /* Add hover effect */
}

.dashboard-card:hover {
    transform: translateY(-5px); /* Slight lift on hover */
}

        /* High Contrast Mode */
        .high-contrast {
            --primary: #0000ff;
            --primary-light: #e0e0ff;
            --secondary: #00ff00;
            --dark: #000000;
            --light: #ffffff;
            --gray: #666666;
            --danger: #ff0000;
            --success: #008000;
            --warning: #ffa500;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
            }

            .nav-links {
                gap: 10px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .doctor-actions {
                flex-direction: column;
                gap: 10px;
            }

            .patient-mode {
                flex-direction: column;
            }

            .appointment-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .appointment-actions {
                width: 100%;
                justify-content: space-between;
            }

            .header-controls {
                flex-wrap: wrap;
                justify-content: center;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-image {
                margin: 0 auto;
            }

            .profile-stats {
                justify-content: center;
            }

            .filter-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Accessibility Panel -->
    <div class="accessibility-panel" id="accessibilityPanel">
        <div class="accessibility-options">
            <div class="accessibility-option" id="highContrastToggle">
                <i class="fas fa-adjust"></i>
                <span>High Contrast</span>
            </div>
            <div class="accessibility-option" id="textSizeIncrease">
                <i class="fas fa-text-height"></i>
                <span>Increase Text</span>
            </div>
            <div class="accessibility-option" id="textSizeDecrease">
                <i class="fas fa-text-width"></i>
                <span>Decrease Text</span>
            </div>
            <div class="accessibility-option" id="readAloud">
                <i class="fas fa-volume-up"></i>
                <span>Read Aloud</span>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo" id="homeLink">
                    <i class="fas fa-stethoscope"></i>
                    <span>MediBook</span>
                </div>
                <div class="nav-links">
                    <a class="nav-link active" data-page="home">Home</a>
                    <a class="nav-link" data-page="doctors">Doctors</a>
                    <a class="nav-link" data-page="appointments">Appointments</a>
                    <a class="nav-link" data-page="reviews">Reviews</a>
                    <a class="nav-link" data-page="dashboard">Dashboard</a>
                </div>
                <div class="header-controls">
                    <button class="accessibility-btn" id="accessibilityToggle">
                        <i class="fas fa-universal-access"></i>
                    </button>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="btn btn-outline" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="signupBtn">Sign Up</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Home Page -->
        <div class="page active" id="home">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-animations">
                    <div class="floating-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <div class="floating-icon">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    <div class="floating-icon">
                        <i class="fas fa-user-md"></i>
                    </div>
                </div>
                <div class="container hero-content">
                    <h1>Find & Book Appointments with Trusted Doctors</h1>
                    <p>Connect with healthcare professionals easily and manage your health with our smart booking platform</p>
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Search for doctors, specialties, or conditions...">
                        <button id="searchBtn"><i class="fas fa-search"></i></button>
                    </div>
                    <button class="btn btn-danger emergency-btn" id="emergencyBtn">
                        <i class="fas fa-bolt"></i> Quick Emergency Help
                    </button>
                </div>
            </section>

            <!-- Symptom Checker -->
            <section class="section">
                <div class="container">
                    <div class="section-title">
                        <h2>Smart Symptom Checker</h2>
                        <p>Select your symptoms and we'll suggest the right specialist</p>
                    </div>
                    <div class="symptom-checker">
                        <h3>What symptoms are you experiencing?</h3>
                        <div class="symptoms-grid" id="symptomsGrid">
                            <div class="symptom-option" data-specialist="Pulmonologist">Cough</div>
                            <div class="symptom-option" data-specialist="Dermatologist">Skin Rash</div>
                            <div class="symptom-option" data-specialist="Neurologist">Headache</div>
                            <div class="symptom-option" data-specialist="Gastroenterologist">Stomach Pain</div>
                            <div class="symptom-option" data-specialist="Cardiologist">Chest Pain</div>
                            <div class="symptom-option" data-specialist="Orthopedist">Joint Pain</div>
                            <div class="symptom-option" data-specialist="ENT Specialist">Ear Pain</div>
                            <div class="symptom-option" data-specialist="Ophthalmologist">Vision Problems</div>
                        </div>
                        <button class="btn btn-primary" id="checkSymptomsBtn">Check Symptoms</button>
                        <div class="suggestion-result" id="suggestionResult">
                            <h3>Recommended Specialist</h3>
                            <p id="recommendedSpecialist"></p>
                            <button class="btn btn-outline" id="bookSpecialistBtn">Book Appointment</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Specialties Section -->
            <section class="section">
                <div class="container">
                    <div class="section-title">
                        <h2>Medical Specialties</h2>
                        <p>Browse doctors by their area of specialization</p>
                    </div>
                    <div class="specialties">
                        <div class="specialty-card" data-specialty="Cardiology">
                            <div class="specialty-icon">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <h3>Cardiology</h3>
                            <p>Heart and cardiovascular health</p>
                        </div>
                        <div class="specialty-card" data-specialty="Neurology">
                            <div class="specialty-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <h3>Neurology</h3>
                            <p>Brain and nervous system disorders</p>
                        </div>
                        <div class="specialty-card" data-specialty="Pediatrics">
                            <div class="specialty-icon">
                                <i class="fas fa-baby"></i>
                            </div>
                            <h3>Pediatrics</h3>
                            <p>Healthcare for children and infants</p>
                        </div>
                        <div class="specialty-card" data-specialty="Orthopedics">
                            <div class="specialty-icon">
                                <i class="fas fa-bone"></i>
                            </div>
                            <h3>Orthopedics</h3>
                            <p>Bones, joints, and muscles</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Top Doctors Preview -->
            <section class="section" style="background-color: var(--primary-light);">
                <div class="container">
                    <div class="section-title">
                        <h2>Our Top Doctors</h2>
                        <p>Experienced medical professionals ready to help</p>
                        <button class="btn btn-outline" id="viewAllDoctorsBtn">View All Doctors</button>
                    </div>
                    <div class="doctors" id="doctorsContainer">
                        <!-- Doctor cards will be populated by JavaScript -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Doctors Page -->
        <div class="page" id="doctors">
            <section class="section">
                <div class="container">
                    <div class="section-title">
                        <h2>Find Your Doctor</h2>
                        <p>Browse our complete list of healthcare professionals</p>
                    </div>
                    
                    <!-- Filter Section -->
                    <div class="filters">
                        <div class="filter-row">
                            <div class="filter-group">
                                <label for="specialtyFilter">Specialty</label>
                                <select id="specialtyFilter" class="filter-select">
                                    <option value="">All Specialties</option>
                                    <option value="Cardiology">Cardiology</option>
                                    <option value="Neurology">Neurology</option>
                                    <option value="Pediatrics">Pediatrics</option>
                                    <option value="Orthopedics">Orthopedics</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="availabilityFilter">Availability</label>
                                <select id="availabilityFilter" class="filter-select">
                                    <option value="">Any Time</option>
                                    <option value="today">Today</option>
                                    <option value="tomorrow">Tomorrow</option>
                                    <option value="thisWeek">This Week</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="locationFilter">Location</label>
                                <select id="locationFilter" class="filter-select">
                                    <option value="">All Locations</option>
                                    <option value="nearby">Near Me</option>
                                    <option value="delhi">Delhi</option>
                                    <option value="mumbai">Mumbai</option>
                                    <option value="bangalore">Bangalore</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="ratingFilter">Minimum Rating</label>
                                <select id="ratingFilter" class="filter-select">
                                    <option value="0">Any Rating</option>
                                    <option value="4">4+ Stars</option>
                                    <option value="4.5">4.5+ Stars</option>
                                    <option value="5">5 Stars</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="search-box" style="max-width: 500px; margin-bottom: 30px;">
                        <input type="text" id="doctorSearchInput" placeholder="Search doctors by name or specialty...">
                        <button id="doctorSearchBtn"><i class="fas fa-search"></i></button>
                    </div>
                    
                    <button class="btn btn-outline" id="compareDoctorsBtn">Compare Doctors</button>
                    
                    <!-- Live Doctors Section -->
                    <div class="live-doctors">
                        <h3 style="margin: 40px 0 20px;">Doctors Available Now <span class="live-indicator"><i class="fas fa-circle"></i> LIVE</span></h3>
                        <div class="doctors" id="liveDoctorsContainer">
                            <!-- Live doctor cards will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="doctors" id="allDoctorsContainer">
                        <!-- All doctor cards will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Doctor Comparison Section -->
            <section class="section comparison-section" id="comparisonSection">
                <div class="container">
                    <div class="section-title">
                        <h2>Compare Doctors</h2>
                        <p>Select up to 3 doctors to compare</p>
                    </div>
                    <div class="comparison-container" id="comparisonContainer">
                        <!-- Comparison cards will be populated by JavaScript -->
                    </div>
                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-primary" id="bookFromComparisonBtn">Book Selected Doctor</button>
                        <button class="btn btn-outline" id="closeComparisonBtn">Close Comparison</button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Doctor Profile Page -->
        <div class="page" id="doctorProfile">
            <section class="doctor-profile">
                <div class="container">
                    <div class="profile-header" id="doctorProfileHeader">
                        <!-- Doctor profile will be populated by JavaScript -->
                    </div>
                    
                    <div class="profile-details">
                        <div class="detail-card">
                            <h3>About Me</h3>
                            <p id="doctorAbout">Loading...</p>
                        </div>
                        
                        <div class="detail-card">
                            <h3>Education & Qualifications</h3>
                            <ul id="doctorEducation">
                                <!-- Education details will be populated by JavaScript -->
                            </ul>
                        </div>
                        
                        <div class="detail-card">
                            <h3>Specializations</h3>
                            <ul id="doctorSpecializations">
                                <!-- Specializations will be populated by JavaScript -->
                            </ul>
                        </div>
                        
                        <div class="detail-card">
                            <h3>Availability</h3>
                            <p id="doctorAvailability">Loading...</p>
                            <button class="btn btn-primary" id="bookThisDoctorBtn">Book Appointment</button>
                            <button class="btn btn-success" id="videoCallBtn" style="margin-left: 10px;"><i class="fas fa-video"></i> Video Consult</button>
                        </div>
                    </div>
                    
                    <div class="reviews-container">
                        <h3 style="margin-bottom: 20px;">Patient Reviews</h3>
                        <div id="doctorReviewsList">
                            <!-- Doctor reviews will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Appointments Page -->
        <div class="page" id="appointments">
            <section class="section">
                <div class="container">
                    <div class="section-title">
                        <h2>My Appointments</h2>
                        <p>Manage your upcoming and past appointments</p>
                    </div>
                    
                    <div class="booking-wizard" id="bookingWizard">
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-step active" data-step="1">
                                <div class="step-number">1</div>
                                <div class="step-label">Select Patient</div>
                            </div>
                            <div class="progress-step" data-step="2">
                                <div class="step-number">2</div>
                                <div class="step-label">Choose Doctor</div>
                            </div>
                            <div class="progress-step" data-step="3">
                                <div class="step-number">3</div>
                                <div class="step-label">Date & Time</div>
                            </div>
                            <div class="progress-step" data-step="4">
                                <div class="step-number">4</div>
                                <div class="step-label">Confirmation</div>
                            </div>
                        </div>

                        <div class="wizard-step active" id="step1">
                            <h3>Who is this appointment for?</h3>
                            <div class="patient-mode">
                                <div class="mode-option selected" data-mode="self">
                                    <i class="fas fa-user"></i>
                                    <p>Myself</p>
                                </div>
                                <div class="mode-option" data-mode="child">
                                    <i class="fas fa-child"></i>
                                    <p>My Child</p>
                                </div>
                                <div class="mode-option" data-mode="parent">
                                    <i class="fas fa-user-friends"></i>
                                    <p>Parent</p>
                                </div>
                                <div class="mode-option" data-mode="other">
                                    <i class="fas fa-users"></i>
                                    <p>Someone Else</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="patientName">Full Name</label>
                                <input type="text" id="patientName" class="form-control" placeholder="Enter patient's full name">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="patientAge">Age</label>
                                    <input type="number" id="patientAge" class="form-control" placeholder="Age">
                                </div>
                                <div class="form-group">
                                    <label for="patientGender">Gender</label>
                                    <select id="patientGender" class="form-control">
                                        <option value="">Select Gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="wizard-actions">
                                <div></div>
                                <button class="btn btn-primary" id="nextToStep2Btn">Next</button>
                            </div>
                        </div>

                        <div class="wizard-step" id="step2">
                            <h3>Select a Doctor</h3>
                            <div class="doctors" id="wizardDoctors">
                                <!-- Doctor cards for wizard -->
                            </div>
                            <div class="wizard-actions">
                                <button class="btn btn-outline" id="backToStep1Btn">Back</button>
                                <button class="btn btn-primary" id="nextToStep3Btn">Next</button>
                            </div>
                        </div>

                        <div class="wizard-step" id="step3">
                            <h3>Select Date & Time</h3>
                            <div class="calendar-container">
                                <div class="calendar-header">
                                    <button class="btn btn-outline btn-sm" id="prevMonthBtn"><i class="fas fa-chevron-left"></i></button>
                                    <h4 id="currentMonth">November 2023</h4>
                                    <button class="btn btn-outline btn-sm" id="nextMonthBtn"><i class="fas fa-chevron-right"></i></button>
                                </div>
                                <div class="calendar-grid" id="calendarGrid">
                                    <!-- Calendar will be populated by JavaScript -->
                                </div>
                            </div>
                            <div class="time-slots" id="timeSlots">
                                <!-- Time slots will be populated by JavaScript -->
                            </div>
                            <div class="wizard-actions">
                                <button class="btn btn-outline" id="backToStep2Btn">Back</button>
                                <button class="btn btn-primary" id="nextToStep4Btn">Next</button>
                            </div>
                        </div>

                        <div class="wizard-step" id="step4">
                            <h3>Confirm Your Appointment</h3>
                            <div class="confirmation-details" id="confirmationDetails">
                                <!-- Confirmation details will be populated by JavaScript -->
                            </div>
                            <div class="wizard-actions">
                                <button class="btn btn-outline" id="backToStep3Btn">Back</button>
                                <button class="btn btn-primary" id="confirmBookingBtn">Confirm Appointment</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="appointments-list">
                        <h3 style="margin-bottom: 20px;">Upcoming Appointments</h3>
                        <div id="upcomingAppointments">
                            <!-- Upcoming appointments will be populated by JavaScript -->
                        </div>
                        
                        <h3 style="margin: 40px 0 20px;">Appointment History</h3>
                        <div id="pastAppointments">
                            <!-- Past appointments will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Reviews Page -->
        <div class="page" id="reviews">
            <section class="section">
                <div class="container">
                    <div class="section-title">
                        <h2>Patient Reviews</h2>
                        <p>See what our patients are saying about their experiences</p>
                    </div>
                    
                    <div class="reviews-container">
                        <div id="reviewsList">
                            <!-- Reviews will be populated by JavaScript -->
                        </div>
                        
                        <div class="review-form">
                            <h3>Write a Review</h3>
                            <div class="form-group">
                                <label for="reviewDoctor">Select Doctor</label>
                                <select id="reviewDoctor" class="form-control">
                                    <option value="">Choose a doctor</option>
                                    <!-- Options will be populated by JavaScript -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Your Rating</label>
                                <div class="rating-input" id="ratingStars">
                                    <span class="rating-star" data-rating="1"><i class="far fa-star"></i></span>
                                    <span class="rating-star" data-rating="2"><i class="far fa-star"></i></span>
                                    <span class="rating-star" data-rating="3"><i class="far fa-star"></i></span>
                                    <span class="rating-star" data-rating="4"><i class="far fa-star"></i></span>
                                    <span class="rating-star" data-rating="5"><i class="far fa-star"></i></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="reviewTitle">Review Title</label>
                                <input type="text" id="reviewTitle" class="form-control" placeholder="Brief summary of your experience">
                            </div>
                            <div class="form-group">
                                <label for="reviewText">Your Review</label>
                                <textarea id="reviewText" class="form-control" rows="5" placeholder="Share details of your experience with this doctor"></textarea>
                            </div>
                            <button class="btn btn-primary" id="submitReviewBtn">Submit Review</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Dashboard Page -->
        <!-- Dashboard Page (Now Patient Profile) -->
<div class="page" id="dashboard">
    <section class="dashboard">
        <div class="container">
            <div class="section-title">
                <h2>Patient Profile</h2>
                <p>Your comprehensive health dashboard and management center</p>
            </div>
            
            <!-- Health Dashboard Overview -->
            <div class="dashboard-cards">
                <div class="dashboard-card">
                    <i class="fas fa-heartbeat"></i>
                    <h3 id="heartRate">72</h3>
                    <p>Heart Rate (BPM)</p>
                </div>
                <div class="dashboard-card">
                    <i class="fas fa-weight"></i>
                    <h3 id="weight">70 kg</h3>
                    <p>Weight</p>
                </div>
                <div class="dashboard-card">
                    <i class="fas fa-ruler-vertical"></i>
                    <h3 id="height">170 cm</h3>
                    <p>Height</p>
                </div>
                <div class="dashboard-card">
                    <i class="fas fa-thermometer-half"></i>
                    <h3 id="bloodPressure">120/80</h3>
                    <p>Blood Pressure</p>
                </div>
            </div>
            
            <!-- Health Goals & Progress Tracking -->
            <div class="profile-section">
                <h3>Health Goals & Progress</h3>
                <div class="goals-container" id="goalsContainer">
                    <!-- Goals will be populated by JS -->
                </div>
                <button class="btn btn-primary" id="addGoalBtn">Add New Goal</button>
            </div>
            
            <!-- Health Risk Assessment -->
            <div class="profile-section">
                <h3>Health Risk Assessment</h3>
                <div id="riskAssessmentContainer">
                    <p>Take our interactive questionnaire to assess your health risks.</p>
                    <button class="btn btn-primary" id="startRiskAssessmentBtn">Start Assessment</button>
                    <div id="riskResults" style="display: none;">
                        <h4>Your Risk Level: <span id="riskLevel">Low</span></h4>
                        <p id="riskRecommendations"></p>
                    </div>
                </div>
            </div>
            
            <!-- Family Health Profiles -->
            <div class="profile-section">
                <h3>Family Health Profiles</h3>
                <div class="family-profiles" id="familyProfiles">
                    <!-- Family members will be populated by JS -->
                </div>
                <button class="btn btn-primary" id="addFamilyMemberBtn">Add Family Member</button>
            </div>
            
            <!-- Health & Wellness Tips -->
            <div class="profile-section">
                <h3>Health & Wellness Tips</h3>
                <div class="tips-carousel" id="tipsCarousel">
                    <div class="tip-slide active">
                        <h4>Stay Hydrated</h4>
                        <p>Drink at least 8 glasses of water daily to maintain optimal health.</p>
                    </div>
                    <div class="tip-slide">
                        <h4>Exercise Regularly</h4>
                        <p>Aim for 30 minutes of moderate exercise most days of the week.</p>
                    </div>
                    <div class="tip-slide">
                        <h4>Eat Balanced Meals</h4>
                        <p>Include fruits, vegetables, lean proteins, and whole grains in your diet.</p>
                    </div>
                    <div class="tip-slide">
                        <h4>Get Enough Sleep</h4>
                        <p>Aim for 7-9 hours of quality sleep each night for better health.</p>
                    </div>
                </div>
                <div class="carousel-controls">
                    <button id="prevTip">&larr;</button>
                    <button id="nextTip">&rarr;</button>
                </div>
            </div>
            
            <!-- Virtual Waiting Room -->
            <div class="profile-section">
                <h3>Virtual Waiting Room</h3>
                <div id="waitingRoomContainer">
                    <p>No active appointments in waiting room.</p>
                </div>
            </div>
            
            <!-- Medication Management -->
            <div class="profile-section">
                <h3>Medication Management</h3>
                <div class="medication-tracker" id="medicationTracker">
                    <!-- Medications will be populated by JS -->
                </div>
                <button class="btn btn-primary" id="addMedicationBtn">Add Medication</button>
            </div>
            
            <!-- Health Timeline -->
            <div class="profile-section">
                <h3>Health Timeline</h3>
                <div class="health-timeline" id="healthTimeline">
                    <!-- Timeline entries will be populated by JS -->
                </div>
            </div>
            
            <!-- Health Records Management -->
            <div class="profile-section">
                <h3>Health Records</h3>
                <div class="records-container" id="recordsContainer">
                    <div class="record-item">
                        <h4>Recent Lab Results</h4>
                        <p>Uploaded: 2023-10-15</p>
                        <button class="btn btn-outline btn-sm">View</button>
                    </div>
                    <div class="record-item">
                        <h4>Prescription History</h4>
                        <p>Last updated: 2023-10-10</p>
                        <button class="btn btn-outline btn-sm">View</button>
                    </div>
                </div>
                <button class="btn btn-primary" id="uploadRecordBtn">Upload New Record</button>
            </div>
        </div>
    </section>
</div>

    <!-- Emergency Modal -->
    <div class="emergency-modal" id="emergencyModal">
        <div class="emergency-content">
            <h2><i class="fas fa-exclamation-triangle"></i> Emergency Assistance</h2>
            <p>If this is a medical emergency, please call emergency services immediately.</p>
            <div class="emergency-actions">
                <button class="btn btn-danger" id="callEmergencyBtn">
                    <i class="fas fa-phone"></i> Call Emergency (911)
                </button>
                <button class="btn btn-warning" id="findHospitalBtn">
                    <i class="fas fa-map-marker-alt"></i> Find Nearest Hospital
                </button>
                <button class="btn btn-primary" id="videoConsultBtn">
                    <i class="fas fa-video"></i> Emergency Video Consult
                </button>
                <button class="btn btn-outline" id="closeEmergencyBtn">
                    <i class="fas fa-times"></i> Close
                </button>
            </div>
            <div style="margin-top: 20px; text-align: left; background: #fff3cd; padding: 15px; border-radius: 5px;">
                <h4><i class="fas fa-info-circle"></i> Emergency Tips</h4>
                <ul style="text-align: left; margin-top: 10px;">
                    <li>Stay calm and assess the situation</li>
                    <li>Call emergency services if there's severe bleeding, chest pain, or difficulty breathing</li>
                    <li>Do not move someone with a suspected neck or back injury</li>
                    <li>Keep a first aid kit accessible at all times</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Dashboard Details Modal -->
<div class="modal" id="dashboardModal">
    <div class="modal-content">
        <span class="close-modal" id="closeDashboardModal">&times;</span>
        <div class="modal-title" id="dashboardModalTitle">Details</div>
        <div id="dashboardModalContent">
            <!-- Details will be populated here -->
        </div>
    </div>
</div>

    <!-- Video Call Modal -->
    <div class="video-modal" id="videoModal">
        <div class="video-content">
            <h2 id="videoCallTitle">Video Consultation</h2>
            <div class="video-container">
                <video class="video-feed" id="localVideo" autoplay muted></video>
                <video class="video-feed" id="remoteVideo" autoplay></video>
            </div>
            <div class="video-controls">
                <button class="control-btn" id="muteBtn">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="control-btn" id="videoBtn">
                    <i class="fas fa-video"></i>
                </button>
                <button class="control-btn end-call" id="endCallBtn">
                    <i class="fas fa-phone"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Confirmation Section -->
    <section class="section" id="confirmationSection" style="display: none;">
        <div class="container">
            <div class="confirmation">
                <div class="confirmation-icon">
                    <i class="fas fa-check"></i>
                </div>
                <h2>Appointment Confirmed!</h2>
                <p>Your appointment has been successfully booked. You will receive a confirmation email shortly.</p>
                <div id="appointmentDetails"></div>
                <div class="qr-code">
                    <i class="fas fa-qrcode" style="font-size: 2rem;"></i>
                    <div>Appointment QR Code</div>
                </div>
                <button class="btn btn-primary" id="newAppointmentBtn">Book Another Appointment</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>MediBook</h3>
                    <p>Your trusted platform for booking doctor appointments online.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="nav-link" data-page="home">Home</a></li>
                        <li><a href="#" class="nav-link" data-page="doctors">Doctors</a></li>
                        <li><a href="#" class="nav-link" data-page="appointments">Appointments</a></li>
                        <li><a href="#" class="nav-link" data-page="reviews">Reviews</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Health St, Medical City</li>
                        <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                        <li><i class="fas fa-envelope"></i> info@medibook.com</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 MediBook. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
<div class="modal" id="loginModal">
    <div class="modal-content">
        <span class="close-modal" id="closeLoginModal">&times;</span>
        <div class="modal-title">Login to MediBook</div>
        <form id="loginForm">
            <div class="form-group">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
            <p style="margin-top: 10px; text-align: center;">
                Don't have an account? <a href="#" id="switchToSignup">Sign up</a>
            </p>
        </form>
    </div>
</div>

<!-- Signup Modal -->
<div class="modal" id="signupModal">
    <div class="modal-content">
        <span class="close-modal" id="closeSignupModal">&times;</span>
        <div class="modal-title">Sign Up for MediBook</div>
        <form id="signupForm">
            <div class="form-group">
                <label for="signupName">Full Name</label>
                <input type="text" id="signupName" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="signupEmail">Email</label>
                <input type="email" id="signupEmail" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="signupPassword">Password</label>
                <input type="password" id="signupPassword" class="form-control" required minlength="6">
            </div>
            <div class="form-group">
                <label for="signupConfirmPassword">Confirm Password</label>
                <input type="password" id="signupConfirmPassword" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Sign Up</button>
            <p style="margin-top: 10px; text-align: center;">
                Already have an account? <a href="#" id="switchToLogin">Login</a>
            </p>
        </form>
    </div>
</div>
<!-- ... (rest of your HTML, including footer) ... -->

<!-- Move this chatbot block BEFORE the <script> tag -->
<div class="chatbot-container" id="chatbotContainer">
    <div class="chatbot-toggle" id="chatbotToggle">
        <i class="fas fa-comments"></i>
    </div>
    <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
            <h4>MediBot - Your Health Assistant</h4>
            <button class="chatbot-close" id="chatbotClose">&times;</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <!-- Messages will be populated here -->
        </div>
        <div class="chatbot-input-area">
            <div class="quick-replies" id="quickReplies">
                <!-- Quick reply buttons will be populated here -->
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Type your message...">
                <button id="chatbotSend"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediBook - Smart Doctor Appointment System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... (your entire <style> block - unchanged) ... */
    </style>
</head>
<body>
    <!-- ... (your entire body content up to the footer - unchanged) ... -->

    <!-- Move this chatbot block BEFORE the <script> tag -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-toggle" id="chatbotToggle">
            <i class="fas fa-comments"></i>
        </div>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h4>MediBot - Your Health Assistant</h4>
                <button class="chatbot-close" id="chatbotClose">&times;</button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <!-- Messages will be populated here -->
            </div>
            <div class="chatbot-input-area">
                <div class="quick-replies" id="quickReplies">
                    <!-- Quick reply buttons will be populated here -->
                </div>
                <div class="chatbot-input">
                    <input type="text" id="chatbotInput" placeholder="Type your message...">
                    <button id="chatbotSend"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>
    <script>
        // ... (your entire <script> block from my previous response - unchanged) ...
    </script>

    <!-- Footer and closing tags -->
    <footer>
        <!-- ... (your footer - unchanged) ... -->
    </footer>
</body>
</html>
<script>
    // Enhanced sample data with doctor profiles and live status
    const doctors = [
        // ... (your existing doctors array - unchanged)
    ];

    // Sample reviews data
    const reviews = [
        // ... (your existing reviews array - unchanged)
    ];

    // Sample appointments data
    let appointments = [
        // ... (your existing appointments array - unchanged)
    ];

    // DOM Elements (all explicitly listed here)
    const homeLink = document.getElementById('homeLink');
    const navLinks = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page');
    const doctorsContainer = document.getElementById('doctorsContainer');
    const allDoctorsContainer = document.getElementById('allDoctorsContainer');
    const liveDoctorsContainer = document.getElementById('liveDoctorsContainer');
    const comparisonSection = document.getElementById('comparisonSection');
    const comparisonContainer = document.getElementById('comparisonContainer');
    const bookingWizard = document.getElementById('bookingWizard');
    const emergencyModal = document.getElementById('emergencyModal');
    const emergencyBtn = document.getElementById('emergencyBtn');
    const closeEmergencyBtn = document.getElementById('closeEmergencyBtn');
    const callEmergencyBtn = document.getElementById('callEmergencyBtn');
    const findHospitalBtn = document.getElementById('findHospitalBtn');
    const videoConsultBtn = document.getElementById('videoConsultBtn');
    const themeToggle = document.getElementById('themeToggle');
    const accessibilityToggle = document.getElementById('accessibilityToggle');
    const accessibilityPanel = document.getElementById('accessibilityPanel');
    const highContrastToggle = document.getElementById('highContrastToggle');
    const textSizeIncrease = document.getElementById('textSizeIncrease');
    const textSizeDecrease = document.getElementById('textSizeDecrease');
    const readAloud = document.getElementById('readAloud');
    const symptomsGrid = document.getElementById('symptomsGrid');
    const checkSymptomsBtn = document.getElementById('checkSymptomsBtn');
    const suggestionResult = document.getElementById('suggestionResult');
    const recommendedSpecialist = document.getElementById('recommendedSpecialist');
    const bookSpecialistBtn = document.getElementById('bookSpecialistBtn');
    const compareDoctorsBtn = document.getElementById('compareDoctorsBtn');
    const closeComparisonBtn = document.getElementById('closeComparisonBtn');
    const bookFromComparisonBtn = document.getElementById('bookFromComparisonBtn');
    const viewAllDoctorsBtn = document.getElementById('viewAllDoctorsBtn');
    const reviewsList = document.getElementById('reviewsList');
    const reviewDoctorSelect = document.getElementById('reviewDoctor');  // This was missing or misplaced
    const ratingStars = document.getElementById('ratingStars');
    const submitReviewBtn = document.getElementById('submitReviewBtn');
    const upcomingAppointments = document.getElementById('upcomingAppointments');
    const pastAppointments = document.getElementById('pastAppointments');
    const recentAppointments = document.getElementById('recentAppointments');
    const myReviews = document.getElementById('myReviews');
    const totalAppointmentsEl = document.getElementById('totalAppointments');
    const doctorsVisitedEl = document.getElementById('doctorsVisited');
    const avgRatingEl = document.getElementById('avgRating');
    const prescriptionsEl = document.getElementById('prescriptions');
    const loginBtn = document.getElementById('loginBtn');
    const signupBtn = document.getElementById('signupBtn');
    const searchBtn = document.getElementById('searchBtn');
    const doctorSearchBtn = document.getElementById('doctorSearchBtn');
    const newAppointmentBtn = document.getElementById('newAppointmentBtn');
    const doctorProfileHeader = document.getElementById('doctorProfileHeader');
    const doctorAbout = document.getElementById('doctorAbout');
    const doctorEducation = document.getElementById('doctorEducation');
    const doctorSpecializations = document.getElementById('doctorSpecializations');
    const doctorAvailability = document.getElementById('doctorAvailability');
    const bookThisDoctorBtn = document.getElementById('bookThisDoctorBtn');
    const videoCallBtn = document.getElementById('videoCallBtn');
    const doctorReviewsList = document.getElementById('doctorReviewsList');
    const videoModal = document.getElementById('videoModal');
    const videoCallTitle = document.getElementById('videoCallTitle');
    const localVideo = document.getElementById('localVideo');
    const remoteVideo = document.getElementById('remoteVideo');
    const muteBtn = document.getElementById('muteBtn');
    const videoBtn = document.getElementById('videoBtn');
    const endCallBtn = document.getElementById('endCallBtn');
    const specialtyFilter = document.getElementById('specialtyFilter');
    const availabilityFilter = document.getElementById('availabilityFilter');
    const locationFilter = document.getElementById('locationFilter');
    const ratingFilter = document.getElementById('ratingFilter');

    // New: Login/Signup related elements
    const loginModal = document.getElementById('loginModal');
    const signupModal = document.getElementById('signupModal');
    const closeLoginModal = document.getElementById('closeLoginModal');
    const closeSignupModal = document.getElementById('closeSignupModal');
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    const switchToSignup = document.getElementById('switchToSignup');
    const switchToLogin = document.getElementById('switchToLogin');

    // State variables
    let selectedSymptoms = [];
    // ... (rest of your state variables - unchanged)

    // Chatbot Variables and Data (moved up for clarity)
    let chatbotOpen = false;
    const chatbotResponses = {
        // ... (your existing chatbotResponses - unchanged)
    };

    const quickReplies = [
        // ... (your existing quickReplies - unchanged)
    ];

    // DOM Elements for Chatbot (moved up)
    const chatbotContainer = document.getElementById('chatbotContainer');
    const chatbotToggle = document.getElementById('chatbotToggle');
    const chatbotWindow = document.getElementById('chatbotWindow');
    const chatbotClose = document.getElementById('chatbotClose');
    const chatbotMessages = document.getElementById('chatbotMessages');
    const chatbotInput = document.getElementById('chatbotInput');
    const chatbotSend = document.getElementById('chatbotSend');
    const quickRepliesContainer = document.getElementById('quickReplies');

    // Function definitions (moved before init() to avoid hoisting issues)
    function renderDoctors() {
        // ... (your existing renderDoctors function - unchanged)
    }

    function renderAllDoctors() {
        // ... (your existing renderAllDoctors function - unchanged)
    }

    function renderLiveDoctors() {
        // ... (your existing renderLiveDoctors function - unchanged)
    }

    function createDoctorCard(doctor, isLive = false) {
        // ... (your existing createDoctorCard function - unchanged)
    }

    function showDoctorProfile(doctorId) {
        // ... (your existing showDoctorProfile function - unchanged)
    }

    function startVideoCall(doctorId) {
        // ... (your existing startVideoCall function - unchanged)
    }

    function renderStars(rating) {
        // ... (your existing renderStars function - unchanged)
    }

    function toggleDoctorComparison(doctorId) {
        // ... (your existing toggleDoctorComparison function - unchanged)
    }

    function updateComparisonUI() {
        // ... (your existing updateComparisonUI function - unchanged)
    }

    function startBookingWizard(doctorId) {
        // ... (your existing startBookingWizard function - unchanged)
    }

    function setupWizardNavigation() {
        // ... (your existing setupWizardNavigation function - unchanged)
    }

    function navigateToStep(step) {
        // ... (your existing navigateToStep function - unchanged)
    }

    function renderWizardDoctors() {
        // ... (your existing renderWizardDoctors function - unchanged)
    }

    function generateCalendar() {
        // ... (your existing generateCalendar function - unchanged)
    }

    function changeMonth(direction) {
        // ... (your existing changeMonth function - unchanged)
    }

    function generateTimeSlots() {
        // ... (your existing generateTimeSlots function - unchanged)
    }

    function renderConfirmationDetails() {
        // ... (your existing renderConfirmationDetails function - unchanged)
    }

    function confirmAppointment() {
        // ... (your existing confirmAppointment function - unchanged)
    }

    function renderReviews() {
        // ... (your existing renderReviews function - unchanged)
    }

    function renderAppointments() {
        // ... (your existing renderAppointments function - unchanged)
    }

    function createAppointmentElement(apt) {
        // ... (your existing createAppointmentElement function - unchanged)
    }

    function renderDashboard() {
        // ... (your existing renderDashboard function - unchanged)
    }

    function setupNavigation() {
        // ... (your existing setupNavigation function - unchanged)
    }

    function navigateToPage(pageId) {
        // ... (your existing navigateToPage function - unchanged)
    }

    function setupFilters() {
        // ... (your existing setupFilters function - unchanged)
    }

    function filterDoctors() {
        // ... (your existing filterDoctors function - unchanged)
    }

    function renderFilteredDoctors(filteredDoctors) {
        // ... (your existing renderFilteredDoctors function - unchanged)
    }

    function performDoctorSearch(query) {
        // ... (your existing performDoctorSearch function - unchanged)
    }

    function setupEventListeners() {
        // ... (your existing setupEventListeners function - unchanged)
    }

    function updateUserUI() {
        // ... (your existing updateUserUI function - unchanged)
    }

    function handleLogin(email, password) {
        // ... (your existing handleLogin function - unchanged)
    }

    function handleSignup(name, email, password, confirmPassword) {
        // ... (your existing handleSignup function - unchanged)
    }

    function setupAuthModals() {
        // ... (your existing setupAuthModals function - unchanged)
    }

    // Patient Profile functions (moved up)
    let patientGoals = JSON.parse(localStorage.getItem('patientGoals')) || [
        // ... (your existing patientGoals - unchanged)
    ];

    let familyMembers = JSON.parse(localStorage.getItem('familyMembers')) || [
        // ... (your existing familyMembers - unchanged)
    ];

    let medications = JSON.parse(localStorage.getItem('medications')) || [
        // ... (your existing medications - unchanged)
    ];

    let healthTimeline = JSON.parse(localStorage.getItem('healthTimeline')) || [
        // ... (your existing healthTimeline - unchanged)
    ];

    function renderGoals() {
        // ... (your existing renderGoals function - unchanged)
    }

    function addGoal() {
        // ... (your existing addGoal function - unchanged)
    }

    function startRiskAssessment() {
        // ... (your existing startRiskAssessment function - unchanged)
    }

    function renderFamilyProfiles() {
        // ... (your existing renderFamilyProfiles function - unchanged)
    }

    function addFamilyMember() {
        // ... (your existing addFamilyMember function - unchanged)
    }

    function showTip(index) {
        // ... (your existing showTip function - unchanged)
    }

    function nextTipSlide() {
        // ... (your existing nextTipSlide function - unchanged)
    }

    function prevTipSlide() {
        // ... (your existing prevTipSlide function - unchanged)
    }

    function renderMedications() {
        // ... (your existing renderMedications function - unchanged)
    }

    function markTaken(id) {
        // ... (your existing markTaken function - unchanged)
    }

    function deleteMedication(id) {
        // ... (your existing deleteMedication function - unchanged)
    }

    function addMedication() {
        // ... (your existing addMedication function - unchanged)
    }

    function renderHealthTimeline() {
        // ... (your existing renderHealthTimeline function - unchanged)
    }

    function uploadRecord() {
        // ... (your existing uploadRecord function - unchanged)
    }

    function renderWaitingRoom() {
        // ... (your existing renderWaitingRoom function - unchanged)
    }

    function initPatientProfile() {
        // ... (your existing initPatientProfile function - unchanged)
    }

    // Chatbot functions (moved up)
    function initChatbot() {
        // ... (your existing initChatbot function - unchanged)
    }

    function toggleChatbot() {
        // ... (your existing toggleChatbot function - unchanged)
    }

    function openChatbot() {
        // ... (your existing openChatbot function - unchanged)
    }

    function closeChatbot() {
        // ... (your existing closeChatbot function - unchanged)
    }

    function addMessage(sender, text) {
        // ... (your existing addMessage function - unchanged)
    }

    function sendMessage() {
        // ... (your existing sendMessage function - unchanged)
    }

    function handleQuickReply(keyword) {
        // ... (your existing handleQuickReply function - unchanged)
    }

    function getResponse(input) {
        // ... (your existing getResponse function - unchanged)
    }

    // Initialize the application (now at the end)
    function init() {
        renderDoctors();
        renderAllDoctors();
        renderLiveDoctors();
        setupEventListeners();
        setupWizardNavigation();
        generateCalendar();
        renderReviews();
        renderAppointments();
        renderDashboard();
        setupNavigation();
        setupFilters();
        updateUserUI();
        setupAuthModals();
        initPatientProfile();
        initChatbot();  // Added: Initialize the chatbot here
        console.log("MediBook initialized successfully!");
    }

    // Initialize the application when DOM is loaded
    document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
